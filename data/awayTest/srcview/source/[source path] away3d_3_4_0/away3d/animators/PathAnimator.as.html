<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>PathAnimator.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">EventDispatcher</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptDefault_Text">Path</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptDefault_Text">CurveSegment</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">math</span>.<span class="ActionScriptDefault_Text">Number3D</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">Init</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">PathEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">base</span>.<span class="ActionScriptDefault_Text">Object3D</span>;    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">PathAnimator</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">EventDispatcher</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_path</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Path</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_time</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_indextime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_duration</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_aTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_lookAt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_alignToPath</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_object3d</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_targetobject</span><span class="ActionScriptOperator">:*</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_easein</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_easeout</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_fps</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> ;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Init</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_offset</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_rotatedOffset</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_objectrotation</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_position</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptComment">//events</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_eCycle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">PathEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_bCycle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_lasttime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_from</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_to</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_bRange</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_eRange</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">PathEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_bSegment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_eSeg</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">PathEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_lastSegment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_nRot</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_worldAxis</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">(</span>0,1,0<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_basePosition</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">(</span>0,0,0<span class="ActionScriptBracket/Brace">)</span>;                 <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updatePosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">st</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>, <span class="ActionScriptDefault_Text">contr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>, <span class="ActionScriptDefault_Text">end</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>, <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span>1 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">contr</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">end</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">contr</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">end</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">contr</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">end</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">st</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">))</span>;                         <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">x</span>;            <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">y</span>;            <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_basePosition</span>.<span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateObjectPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotate</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotate</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span>  <span class="ActionScriptBracket/Brace">){</span>                                 <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">x</span>;                 <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">y</span>;                 <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span>   <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">z</span>;                                  <span class="ActionScriptDefault_Text">_rotatedOffset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">PathUtils</span>.<span class="ActionScriptDefault_Text">rotatePoint</span><span class="ActionScriptBracket/Brace">(</span>  <span class="ActionScriptDefault_Text">_rotatedOffset</span>, <span class="ActionScriptDefault_Text">_nRot</span><span class="ActionScriptBracket/Brace">)</span>;                 <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+=</span>  <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">x</span>;                 <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+=</span>  <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">y</span>;                 <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+=</span>   <span class="ActionScriptDefault_Text">_rotatedOffset</span>.<span class="ActionScriptDefault_Text">z</span>;                             <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span>  <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">_position</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">z</span>;                            <span class="ActionScriptBracket/Brace">}</span>             <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">position</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_position</span>;                    <span class="ActionScriptBracket/Brace">}</span>                  <span class="ActionScriptASDoc">/**        * Creates a new &lt;PathAnimator&gt;PathAnimator&lt;/code&gt;        *         * @param                 path        A Path object. The _path definition.        * @param                 object3d         An Object, defines the object to be animated along the path. The object of any kind must have 3 public properties &quot;x,y,z&quot;.        * Note: if an rotations array is passed, the object must have rotationX, Y and Z public properties as well.        * @param     init        [optional]    An initialisation object for specifying default instance properties. Default is null.         *         */</span>        <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">PathAnimator</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">path</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Path</span>, <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">:*</span>, <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_path</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">path</span>;            <span class="ActionScriptDefault_Text">_worldAxis</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">worldAxis</span>;            <span class="ActionScriptDefault_Text">_object3d</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">object3d</span>;                        <span class="ActionScriptDefault_Text">ini</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Init</span>.<span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_duration</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;duration&quot;</span>, 1000, <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">min</span><span class="ActionScriptOperator">:</span>0<span class="ActionScriptBracket/Brace">})</span>;            <span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getBoolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;lookat&quot;</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_alignToPath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getBoolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;aligntopath&quot;</span>, <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">_lookAt</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_easein</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getBoolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;easein&quot;</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_easeout</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getBoolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;easeout&quot;</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_fps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;fps&quot;</span>, 20, <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">min</span><span class="ActionScriptOperator">:</span>0<span class="ActionScriptBracket/Brace">})</span>;            <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getNumber3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;offset&quot;</span><span class="ActionScriptBracket/Brace">)</span>;                         <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">&quot;rotations&quot;</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">&quot;rotations&quot;</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_rotations</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getArray</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;rotations&quot;</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">_nRot</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptDefault_Text">_targetobject</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span>.<span class="ActionScriptDefault_Text">getObject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;targetobject&quot;</span>, <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_targetobject</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_alignToPath</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_alignToPath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;              <span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">=</span>0;            <span class="ActionScriptDefault_Text">_indextime</span><span class="ActionScriptOperator">=</span>0;            <span class="ActionScriptDefault_Text">_time</span><span class="ActionScriptOperator">=</span>0;            <span class="ActionScriptDefault_Text">_lasttime</span><span class="ActionScriptOperator">=</span>0;             <span class="ActionScriptDefault_Text">_aTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                        <span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Update automatically the tween. Note that if you want to use a more extended tween engine like Tweener. Use the &quot;update&quot; handler.        *        * @param startFrom     A Number  from 0 to 1. Note: this will have fx on the next iteration on the Path, if you want it start at this point, use clearTime handler first.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">animateOnPath</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">startFrom</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_aTime</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">_indextime</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">_aTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">AWTweener</span>.<span class="ActionScriptDefault_Text">calculate</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">startFrom</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span><span class="ActionScriptDefault_Text">_fps</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">_fps</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_fps</span><span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">startFrom</span><span class="ActionScriptBracket/Brace">))</span> , <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">startFrom</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> 0 <span class="ActionScriptOperator">:</span> 1<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">startFrom</span> ,1,<span class="ActionScriptDefault_Text">_duration</span>,<span class="ActionScriptDefault_Text">_easein</span>,<span class="ActionScriptDefault_Text">_easeout</span><span class="ActionScriptBracket/Brace">)</span>;             <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_aTime</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_indextime</span><span class="ActionScriptBracket/Brace">])</span>;            <span class="ActionScriptDefault_Text">_indextime</span> <span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">_indextime</span> <span class="ActionScriptOperator">+</span> 1 <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">_aTime</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptOperator">?</span> 0<span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">_indextime</span> <span class="ActionScriptOperator">+</span> 1;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Calculates the new position and set the object on the path accordingly        *        * @param t     A Number  from 0 to 0.999999999  (less than one to allow alignToPath)        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&lt;</span> 0<span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&gt;=</span>0.999999999<span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">=</span> 0.999999999;                <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_bCycle</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">_lasttime</span><span class="ActionScriptBracket/Brace">){</span>                                         <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_eCycle</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">t</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">curve</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">CurveSegment</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">multi</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">multi</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">curve</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span>  <span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">position</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_basePosition</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">multi</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">_index</span>;            <span class="ActionScriptDefault_Text">updatePosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rotate</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_targetobject</span><span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">_alignToPath</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">z</span>;                <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">lookAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_targetobject</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">&quot;scenePosition&quot;</span><span class="ActionScriptBracket/Brace">])</span>;                            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_alignToPath</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_rotations</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span>  <span class="ActionScriptBracket/Brace">){</span>                                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">){</span>                                                 <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_rotations</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span>;                         <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_rotations</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span>;                         <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_rotations</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span>;                                             <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                                                 <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span>   <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span>   <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_nRot</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span>   <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">_rotations</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;                                             <span class="ActionScriptBracket/Brace">}</span>                                          <span class="ActionScriptDefault_Text">_worldAxis</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 0;                     <span class="ActionScriptDefault_Text">_worldAxis</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 1;                     <span class="ActionScriptDefault_Text">_worldAxis</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> 0;                     <span class="ActionScriptDefault_Text">_worldAxis</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">PathUtils</span>.<span class="ActionScriptDefault_Text">rotatePoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_worldAxis</span>, <span class="ActionScriptDefault_Text">_nRot</span><span class="ActionScriptBracket/Brace">)</span>;                                          <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">lookAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_basePosition</span>, <span class="ActionScriptDefault_Text">_worldAxis</span><span class="ActionScriptBracket/Brace">)</span>;                                        <span class="ActionScriptDefault_Text">rotate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                     <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">lookAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_position</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>                             <span class="ActionScriptBracket/Brace">}</span>                                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_lookAt</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">updateObjectPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotate</span><span class="ActionScriptBracket/Brace">)</span>;                                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_bSegment</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">&gt;</span>0 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">&lt;</span> 0.999999999<span class="ActionScriptBracket/Brace">){</span>                    <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_index</span>;                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_eSeg</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                             <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_bRange</span> <span class="ActionScriptOperator">&amp;&amp;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">_from</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">_to</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_eRange</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">_time</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">t</span>;                 <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**        * Updates a position Number3D on the path at a given time. Do not use this handler to animate, it&apos;s in there to add dummy&apos;s or place camera before or after        * the animated object. Use the update() or the automatic tweened animateOnPath() handlers instead.        *        * @param p    Number3D. The Number3D to update according to the &quot;t&quot; time parameter.        * @param t    Number. A Number  from 0 to 1        * @see animateOnPath        * @see update        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getPositionOnPath</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">p</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>, <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&lt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> 0 <span class="ActionScriptOperator">:</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&gt;</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span>1 <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">curve</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">CurveSegment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">i</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span>1 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">))</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**        * returns the actual time on the path.a Number from 0 to 1        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">time</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_time</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * returns the segment index that is used at a given time;        * @param     t        [Number]. A Number between 0 and 1. If no params, actual pathanimator time segment index is returned.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getTimeSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">NaN</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isNaN</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptBracket/Brace">))</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">_time</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                 <span class="ActionScriptASDoc">/**        * clear the tween array in order to start from another time on the path, if the animateOnPath handler is being used        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearTime</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_aTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;            <span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">_time</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * set the saved time back to a lower time to avoid mesh rotation Y of 180.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">offsetTime</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">:</span> 0;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * returns the segment count of the path        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">pathlength</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span>;        <span class="ActionScriptBracket/Brace">}</span>                 <span class="ActionScriptASDoc">/**        * returns the actual tweened pos on the path with no optional offset applyed        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">position</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_position</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * returns the actual rotations of the object3D;        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">objectRotations</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_objectrotation</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_objectrotation</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptDefault_Text">_objectrotation</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">rotationX</span>;            <span class="ActionScriptDefault_Text">_objectrotation</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">rotationY</span>;            <span class="ActionScriptDefault_Text">_objectrotation</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_object3d</span>.<span class="ActionScriptDefault_Text">rotationZ</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_objectrotation</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * returns the actual interpolated rotation along the path;        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">orientation</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_nRot</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * sets an optional offset to the pos on the path, ideal for cameras or resuse same Path object for other objects        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">offset</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">offset</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_offset</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * To update an optional offset by the x, y and z properties        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">offsetX</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">offsetX</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">x</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">offsetY</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">offsetY</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">y</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">offsetZ</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">offsetZ</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_offset</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_offset</span>.<span class="ActionScriptDefault_Text">z</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * sets the object to be animated along the path. The object must have 3 public properties &quot;x,y,z&quot;.        * Note: if an rotation array is passed, the object must have rotationX, Y and Z public properties.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">:*</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_object3d</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">object3d</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:*</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_object3d</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * sets the target object that the object to be animated along the path will lookat        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">targetobject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">:*</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_lookAt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">aligntopath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">_lookAt</span>;            <span class="ActionScriptDefault_Text">_targetobject</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">object3d</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">targetobject</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:*</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_targetobject</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * sets an optional array of rotations, probably same as the PathExtrude or PathDuplicator rotation array in order to follow the twisted shape.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">rotations</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rot</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_rotations</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rot</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">rot</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">&gt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">rot</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_rotations</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_nRot</span><span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                 <span class="ActionScriptDefault_Text">_nRot</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">rotations</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_rotations</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines if the motion must easein along the path        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">easein</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_easein</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">easein</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_easein</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines if the motion must easeout along the path        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">easeout</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_easeout</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">easeout</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_easeout</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines if the object animated along the path must be aligned to the path.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">aligntopath</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_alignToPath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">aligntopath</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_alignToPath</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines the path to follow        * @see Path        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">path</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Path</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_path</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">p</span>;            <span class="ActionScriptDefault_Text">_worldAxis</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">worldAxis</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">path</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Path</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_path</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines the frame rate per second. This only affects the animateOnPath handler.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_fps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_fps</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines the duration in ticks (ms). This only affects the animateOnPath handler.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_duration</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_duration</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * defines the frame rate per second. This only affects the animateOnPath handler.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span> 1 <span class="ActionScriptOperator">:</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">val</span> <span class="ActionScriptOperator">:</span> 0;            <span class="ActionScriptDefault_Text">_aTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_index</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a cycle event listener. Event fired when the time reaches  0.999999999 or higher.         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnCycle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_lasttime</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">_bCycle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">_eCycle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">PathEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a cycle event listener         *          * @param        listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnCycle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_bCycle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptDefault_Text">_eCycle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a range event listener. Event fired when the time is &gt;= from and &lt;= to variables.         *          * @param        listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnRange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span>, <span class="ActionScriptDefault_Text">from</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0, <span class="ActionScriptReserved">to</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_from</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">from</span>;            <span class="ActionScriptDefault_Text">_to</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">to</span>;            <span class="ActionScriptDefault_Text">_bRange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">_eRange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">PathEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">RANGE</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">RANGE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a range event listener         *          * @param        listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnRange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_from</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">_to</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">_bRange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptDefault_Text">_eRange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">RANGE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a segmentchange event listener. Event fired when the time pointer reads another CurveSegment. Note that it&apos;s not triggered if the value time is decreasing along the path.         *          * @param        listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnChangeSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_bSegment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">_eSeg</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">PathEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CHANGE_SEGMENT</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CHANGE_SEGMENT</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a range event listener         *          * @param        listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnChangeSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_bSegment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptDefault_Text">_eSeg</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptDefault_Text">_lastSegment</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">PathEvent</span>.<span class="ActionScriptDefault_Text">CHANGE_SEGMENT</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns a position on the path according to duration/elapsed time. Duration variable must be set.         *          * @param        p        Number3D. An empty Number3D that will be returned with the location on path at a given time in ms.         * @param        d        Number. A number representing a time in ms.          *         *@ returns Number3D The position at a given elapsed time, compared to total duration.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getDurationOnPath</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">p</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>, <span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">_duration</span>;            <span class="ActionScriptDefault_Text">t</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&lt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> 0 <span class="ActionScriptOperator">:</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">t</span><span class="ActionScriptOperator">&gt;</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span>1 <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">t</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">curve</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">CurveSegment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_path</span>.<span class="ActionScriptDefault_Text">array</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">i</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span>1 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">nT</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dt</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">vc</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">nT</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">curve</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">))</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">p</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**         * Default method for removing a range event listener         *          * @param        d        Number. A number representing a time in ms. Duration variable must be set.         *@ returns Number. The elapsed time compared to total duration         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateTimeElapsed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">_duration</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">_duration</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Returns the elapsed time along the path.        * duration variable must be set for this function        *@ returns Number. The elapsed time compared to total duration        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getTimeElapsed</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_duration</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">time</span>;        <span class="ActionScriptBracket/Brace">}</span>             <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
