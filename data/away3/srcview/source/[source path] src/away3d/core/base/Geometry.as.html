<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Geometry.as</title>
<link rel="stylesheet" type="text/css" href="../../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">base</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">animators</span>.<span class="ActionScriptDefault_Text">skin</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">arcane</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">containers</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">math</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">loaders</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptDefault_Text">MaterialData</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">materials</span>.<span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">EventDispatcher</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">use</span> <span class="ActionScriptReserved">namespace</span> <span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptASDoc">/**     * Dispatched when the bounding dimensions of the geometry object change.     *      * @eventType away3d.events.GeometryEvent     */</span>    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;dimensionsChanged&quot;</span>,<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;away3d.events.GeometryEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>        <span class="ActionScriptASDoc">/**     * Dispatched when a sequence of animations completes.     *      * @eventType away3d.events.AnimationEvent     */</span>    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;sequenceDone&quot;</span>,<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;away3d.events.AnimationEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>        <span class="ActionScriptASDoc">/**     * Dispatched when a single animation in a sequence completes.     *      * @eventType away3d.events.AnimationEvent     */</span>    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;cycle&quot;</span>,<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;away3d.events.AnimationEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>        <span class="ActionScriptASDoc">/**    * 3d object containing face and segment elements     */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">EventDispatcher</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">commands</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">indices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">startIndices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">faceVOs</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">segmentVOs</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">billboardVOs</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;         <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">vertexDirty</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rtn</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">getVertexDirty</span><span class="ActionScriptBracket/Brace">())</span>                    <span class="ActionScriptDefault_Text">rtn</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">rtn</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getFacesByVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertfacesDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findVertFaces</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getVertexNormal</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertfacesDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findVertFaces</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertnormalsDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findVertNormals</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_vertnormals</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">neighbour01</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_neighboursDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findNeighbours</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">neighbour12</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_neighboursDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findNeighbours</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">neighbour20</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_neighboursDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">findNeighbours</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_dispatchedDimensionsChange</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">DIMENSIONS_CHANGED</span><span class="ActionScriptBracket/Brace">))</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_dimensionschanged</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_dimensionschanged</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">GeometryEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">DIMENSIONS_CHANGED</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_dimensionschanged</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_dispatchedDimensionsChange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Element</span>, <span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IMaterial</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptComment">//detect if materialData exists</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!(</span><span class="ActionScriptDefault_Text">_materialData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">]))</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_materialData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MaterialData</span><span class="ActionScriptBracket/Brace">()</span>;                                <span class="ActionScriptComment">//set material property of materialData</span>                <span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">material</span>;                                <span class="ActionScriptComment">//add update listener</span>                <span class="ActionScriptDefault_Text">material</span>.<span class="ActionScriptDefault_Text">addOnMaterialUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onMaterialUpdate</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptComment">//check if element is added to elements array</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">elements</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">elements</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Element</span>, <span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IMaterial</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptComment">//detect if materialData exists</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_materialData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">]))</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptComment">//check if element is removed from elements array</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">elements</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptBracket/Brace">))</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">elements</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_index</span>, 1<span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptComment">//check if elements array is empty</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_materialData</span>.<span class="ActionScriptDefault_Text">elements</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">delete</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">]</span>;                                        <span class="ActionScriptComment">//remove update listener</span>                    <span class="ActionScriptDefault_Text">material</span>.<span class="ActionScriptDefault_Text">removeOnMaterialUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onMaterialUpdate</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_faces</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_faceVO</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">FaceVO</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_segments</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_segmentVO</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SegmentVO</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_billboards</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_billboardVO</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BillboardVO</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_processed</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_element</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Element</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_element_vertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_element_commands</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_verticesDirty</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_dispatchedDimensionsChange</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_dimensionschanged</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">GeometryEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_neighboursDirty</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertfacesDirty</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertnormalsDirty</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vertnormals</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_fNormal</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_fAngle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_fVectors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clonedvertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clonedskinvertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clonedskincontrollers</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cloneduvs</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_frame</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_animation</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Animation</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_animationgroup</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AnimationGroup</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_sequencedone</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AnimationEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_cycle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AnimationEvent</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_activePrefix</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_materialData</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MaterialData</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_quarterFacesTotal</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Element</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_verticesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">addOnVertexChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onVertexChange</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">addOnVertexValueChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onVertexValueChange</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">addOnMappingChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onMappingChange</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">element</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Element</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_verticesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">removeOnVertexChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onVertexChange</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">removeOnVertexValueChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onVertexValueChange</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">notifyMappingChange</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptDefault_Text">element</span>.<span class="ActionScriptDefault_Text">removeOnMappingChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">onMappingChange</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">findVertFaces</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_vertfaces</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">faces</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>;                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptReserved">else</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>;                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptReserved">else</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>;                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptReserved">else</span>                    <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">_vertfacesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptDefault_Text">_vertnormalsDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">findVertNormals</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_vertnormals</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vF</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_vertfaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nY</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nZ</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">vF</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">_fNormal</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f</span>.<span class="ActionScriptDefault_Text">normal</span>;                    <span class="ActionScriptDefault_Text">_fVectors</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_f_vertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f</span>.<span class="ActionScriptDefault_Text">vertices</span>;                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fV</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_f_vertices</span><span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fV</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptDefault_Text">_fVectors</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fV</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">v</span>.<span class="ActionScriptDefault_Text">x</span>, <span class="ActionScriptDefault_Text">fV</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">v</span>.<span class="ActionScriptDefault_Text">y</span>, <span class="ActionScriptDefault_Text">fV</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">v</span>.<span class="ActionScriptDefault_Text">z</span>, <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">))</span>;                                        <span class="ActionScriptDefault_Text">_fAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">acos</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_fVectors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">dot</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_fVectors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptDefault_Text">nX</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_fNormal</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">_fAngle</span>;                    <span class="ActionScriptDefault_Text">nY</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_fNormal</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">_fAngle</span>;                    <span class="ActionScriptDefault_Text">nZ</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">_fNormal</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">_fAngle</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertNormal</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">nX</span>, <span class="ActionScriptDefault_Text">nY</span>, <span class="ActionScriptDefault_Text">nZ</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">vertNormal</span>.<span class="ActionScriptDefault_Text">normalize</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptDefault_Text">_vertnormals</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertNormal</span>;            <span class="ActionScriptBracket/Brace">}</span>                                    <span class="ActionScriptDefault_Text">_vertnormalsDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMaterialUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MaterialEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMappingChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ElementEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onVertexChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ElementEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_verticesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">element</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">element</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">normalDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                <span class="ActionScriptDefault_Text">_vertfacesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onVertexValueChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ElementEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">element</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">element</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">normalDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneFrame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">frame</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Frame</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Frame</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Frame</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_frame_vertexpositions</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frame</span>.<span class="ActionScriptDefault_Text">vertexpositions</span>;            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertexPosition</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">VertexPosition</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_frame_vertexpositions</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">vertexpositions</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneVertexPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertexPosition</span><span class="ActionScriptBracket/Brace">))</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneVertexPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertexPosition</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">VertexPosition</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">VertexPosition</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">VertexPosition</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">VertexPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertexPosition</span>.<span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptBracket/Brace">))</span>;                        <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertexPosition</span>.<span class="ActionScriptDefault_Text">x</span>;            <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertexPosition</span>.<span class="ActionScriptDefault_Text">y</span>;            <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertexPosition</span>.<span class="ActionScriptDefault_Text">z</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">clonedvertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">extra</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">extra</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IClonable</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">extra</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IClonable</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">extra</span>;                <span class="ActionScriptDefault_Text">clonedvertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">result</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneSkinVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinVertex</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinVertex</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinVertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">clonedskinvertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SkinVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinVertex</span>.<span class="ActionScriptDefault_Text">skinnedVertex</span><span class="ActionScriptBracket/Brace">))</span>;                <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">weights</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">skinVertex</span>.<span class="ActionScriptDefault_Text">weights</span>.<span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">()</span>;                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_skinVertex_controllers</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">skinVertex</span>.<span class="ActionScriptDefault_Text">controllers</span>;                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_skinVertex_controllers</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">controllers</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneSkinController</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptBracket/Brace">))</span>;                                    <span class="ActionScriptDefault_Text">clonedskinvertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">result</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneSkinController</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">clonedskincontrollers</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SkinController</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">skinController</span>.<span class="ActionScriptDefault_Text">name</span>;                <span class="ActionScriptDefault_Text">result</span>.<span class="ActionScriptDefault_Text">bindMatrix</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">skinController</span>.<span class="ActionScriptDefault_Text">bindMatrix</span>;                <span class="ActionScriptDefault_Text">clonedskincontrollers</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">result</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cloneUV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cloneduvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uv</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv</span>.<span class="ActionScriptDefault_Text">_u</span>, <span class="ActionScriptDefault_Text">uv</span>.<span class="ActionScriptDefault_Text">_v</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">cloneduvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uv</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">result</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updatePlaySequence</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AnimationEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_length</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span>.<span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_length</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_UPDATE</span>, <span class="ActionScriptDefault_Text">updatePlaySequence</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequenceEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSequenceEvent</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_sequencedone</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">_sequencedone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationEvent</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_DONE</span>, <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>;                                        <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_sequencedone</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">loopLast</span><span class="ActionScriptBracket/Brace">)</span>  <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_length</span> <span class="ActionScriptOperator">==</span> 1 <span class="ActionScriptBracket/Brace">){</span>                    <span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">loopLast</span>;                    <span class="ActionScriptComment">//trace(&quot;loop last = &quot;+ _animation.loop);</span>                    <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">loopLast</span>;                    <span class="ActionScriptComment">//trace(&quot;_animationgroup.playlist[0].loop = &quot;+ _animationgroup.playlist[0].loop);</span>                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span>.<span class="ActionScriptDefault_Text">shift</span><span class="ActionScriptBracket/Brace">())</span>;            <span class="ActionScriptBracket/Brace">}</span>                     <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Instance of the Init object used to hold and parse default property values         * specified by the initialiser object in the 3d object constructor.         */</span>        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Init</span>;                <span class="ActionScriptASDoc">/**        * Reference to the root heirarchy of bone controllers for a skin.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rootBone</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Bone</span>;                <span class="ActionScriptASDoc">/**         * Array of vertices used in a skin.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinVertices</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;                <span class="ActionScriptASDoc">/**        * Array of controller objects used to bind vertices with joints in a skin.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinControllers</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;                        <span class="ActionScriptASDoc">/**        * A dictionary containing all frames of the geometry.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;                <span class="ActionScriptASDoc">/**        * A dictionary containing all frame names of the geometry.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;                <span class="ActionScriptASDoc">/**        * An dictionary containing all the materials included in the geometry.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptASDoc">/**        * An dictionary containing associations between cloned elements.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cloneElementDictionary</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptASDoc">/**        * A graphics element in charge of managing the distribution of vector drawing commands into faces.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Graphics3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Graphics3D</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptASDoc">/**         * Set a new array of vertices for the mesh object.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_vlength</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span>.<span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_length</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">_vertices</span>.<span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_vlength</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_vertices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">_length</span>;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">return</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">_vlength</span>;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Indicates the current frame of animation         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">frame</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">frame</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">frame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">frame</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;            <span class="ActionScriptDefault_Text">_frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;            <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">adjust</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Determines the frames per second at which the animation will run.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">fps</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">fps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">&gt;=</span> 1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">:</span> 1;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Determines whether the animation will loop.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">loop</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">loop</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">loop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Determines how many frames a transition between the actual and the next animationSequence should interpolate together.         * must be higher or equal to 1. Default = 10;         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">transitionValue</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">transitionValue</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">transitionValue</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">transitionValue</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Determines whether the animation will smooth motion (interpolate) between frames.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">smooth</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">smooth</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">smooth</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">smooth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Indicates whether the animation is currently running.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">isRunning</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">isRunning</span>  <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Indicates whether the animation has a cycle event listener         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">hasCycleEvent</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Indicates whether the animation has a sequencedone event listener         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">hasSequenceEvent</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_DONE</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * return the prefix of the active animation.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">activePrefix</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_activePrefix</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns the total number of times the geometry has been quartered.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">quarterFacesTotal</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_quarterFacesTotal</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns an array of the faces contained in the geometry object.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">faces</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_faces</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns an array of the segments contained in the geometry object.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">segments</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_segments</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns an array of the billboards contained in the geometry object.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">billboards</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_billboards</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Returns an array of all elements contained in the geometry object.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">elements</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_segments</span>, <span class="ActionScriptDefault_Text">_billboards</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Returns an array of all vertices contained in the geometry object        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_verticesDirty</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_verticesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                                <span class="ActionScriptDefault_Text">_vertices</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">indices</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">commands</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">startIndices</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">faceVOs</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">segmentVOs</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">billboardVOs</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">_processed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">elements</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_element</span>.<span class="ActionScriptDefault_Text">vertices</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_element_vertices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_element</span>.<span class="ActionScriptDefault_Text">vertices</span>;                        <span class="ActionScriptDefault_Text">_element_commands</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_element</span>.<span class="ActionScriptDefault_Text">commands</span>;                                                <span class="ActionScriptDefault_Text">startIndices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">startIndices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">indices</span>.<span class="ActionScriptDefault_Text">length</span>;                                                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">_faceVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">faceVO</span>;                            <span class="ActionScriptDefault_Text">faceVOs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">faceVOs</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_faceVO</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Segment</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">_segmentVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Segment</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">segmentVO</span>;                            <span class="ActionScriptDefault_Text">segmentVOs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">segmentVOs</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_segmentVO</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Billboard</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">_billboardVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_element</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Billboard</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">billboardVO</span>;                            <span class="ActionScriptDefault_Text">billboardVOs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">billboardVOs</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_billboardVO</span>;                        <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">=</span> 0;                                                <span class="ActionScriptReserved">while</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_index</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_element_vertices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                                                        <span class="ActionScriptDefault_Text">_vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_element_vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>;                                                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_processed</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_vertex</span><span class="ActionScriptBracket/Brace">])</span> <span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">_vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_vertices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_vertex</span>;                                <span class="ActionScriptDefault_Text">indices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">indices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_processed</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_vertex</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_vertices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">-</span> 1;                            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">indices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">indices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_processed</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_vertex</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">-</span> 1;                            <span class="ActionScriptBracket/Brace">}</span>                                                        <span class="ActionScriptDefault_Text">commands</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">commands</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_element_commands</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptBracket/Brace">]</span>;                                                        <span class="ActionScriptDefault_Text">_index</span><span class="ActionScriptOperator">++</span>;                        <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptDefault_Text">startIndices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">startIndices</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">indices</span>.<span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_vertices</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Creates a new &lt;code&gt;Geometry&lt;/code&gt; object.         */</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">graphics</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Adds a face object to the geometry object.         *          * @param    face    The face object to be added.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>, <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_vertfacesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Removes a face object from the geometry object.         *          * @param    face    The face object to be removed.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptDefault_Text">removeElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">removeMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>, <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_vertfacesDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                        <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span>, 1<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Adds a segment object to the geometry object.         *          * @param    segment    The segment object to be added.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Segment</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>, <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;            <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptDefault_Text">_segments</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Removes a segment object to the geometry object.         *          * @param    segment    The segment object to be removed.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Segment</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_segments</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptDefault_Text">removeElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">removeMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>, <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                        <span class="ActionScriptDefault_Text">_segments</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span>, 1<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Adds a billboard object to the geometry object.         *          * @param    billboard    The segment object to be added.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addBillboard</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Billboard</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span>, <span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;                        <span class="ActionScriptDefault_Text">_billboards</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Removes a segment object to the geometry object.         *          * @param    segment    The segment object to be removed.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeBillboard</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Billboard</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_billboards</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptDefault_Text">removeElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">removeMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">billboard</span>, <span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">billboard</span>.<span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                        <span class="ActionScriptDefault_Text">_billboards</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span>, 1<span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Inverts the geometry of all face objects.         *          * @see away3d.code.base.Face#invert()         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">invertFaces</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">invert</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Divides all faces objects of a Mesh into 4 equal sized face objects.        * Used to segment a geometry in order to reduce affine persepective distortion.        *         * @see away3d.primitives.SkyBox        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">quarterFaces</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_quarterFacesTotal</span><span class="ActionScriptOperator">++</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">([]))</span>               <span class="ActionScriptDefault_Text">quarterFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>, <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**        * Divides a face object into 4 equal sized face objects.        *         * @param    face    The face to split in 4 equal faces.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">quarterFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span>, <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">medians</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">medians</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v01</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v01</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">v01</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Vertex</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v01</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v01</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v12</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v12</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">v12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Vertex</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v12</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v12</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v20</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v20</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">v20</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Vertex</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v20</span>;                <span class="ActionScriptDefault_Text">medians</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptBracket/Brace">][</span><span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">v20</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv2</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv01</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">UV</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uv1</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv12</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">UV</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv20</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">UV</span>.<span class="ActionScriptDefault_Text">median</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv2</span>, <span class="ActionScriptDefault_Text">uv0</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ITriangleMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span>;                        <span class="ActionScriptComment">//remove old face</span>            <span class="ActionScriptDefault_Text">removeFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptComment">//add new faces</span>            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">v01</span>, <span class="ActionScriptDefault_Text">v20</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uv01</span>, <span class="ActionScriptDefault_Text">uv20</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v01</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">v12</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv01</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uv12</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v20</span>, <span class="ActionScriptDefault_Text">v12</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv20</span>, <span class="ActionScriptDefault_Text">uv12</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v12</span>, <span class="ActionScriptDefault_Text">v20</span>, <span class="ActionScriptDefault_Text">v01</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv12</span>, <span class="ActionScriptDefault_Text">uv20</span>, <span class="ActionScriptDefault_Text">uv01</span><span class="ActionScriptBracket/Brace">))</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Divides all faces objects of a Mesh into 3 face objects.        *         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">triFaces</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">([]))</span>            <span class="ActionScriptBracket/Brace">{</span>               <span class="ActionScriptDefault_Text">triFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**        * Divides a face object into 3 face objects.        *         * @param    face    The face to split in 3 faces.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">triFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>3, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>3, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>3<span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv2</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uvc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>3, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span>3<span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ITriangleMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span>;            <span class="ActionScriptDefault_Text">removeFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uvc</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v2</span>,  <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Divides all faces objects of a Mesh into 2 face objects.        *         * @param    side    The side of the faces to split in two. 0 , 1 or 2. (clockwize).        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">splitFaces</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">side</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">side</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">side</span><span class="ActionScriptOperator">&lt;</span>0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> 0 <span class="ActionScriptOperator">:</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">side</span><span class="ActionScriptOperator">&gt;</span>2<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> 2<span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">side</span>;            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span>.<span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">([]))</span>            <span class="ActionScriptBracket/Brace">{</span>               <span class="ActionScriptDefault_Text">splitFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>, <span class="ActionScriptDefault_Text">side</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**        * Divides a face object into 2 face objects.        *         * @param    face    The face to split in 2 faces.        * @param    side    The side of the face to split in two. 0 , 1 or 2. (clockwize).        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">splitFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span>, <span class="ActionScriptDefault_Text">side</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv0</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv1</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">uv2</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uvc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UV</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ITriangleMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span>;            <span class="ActionScriptDefault_Text">removeFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">side</span><span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptReserved">case</span> 0<span class="ActionScriptOperator">:</span>                    <span class="ActionScriptDefault_Text">vc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">uvc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptReserved">break</span>;                <span class="ActionScriptReserved">case</span> 1<span class="ActionScriptOperator">:</span>                    <span class="ActionScriptDefault_Text">vc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v1</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">uvc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv1</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uvc</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptReserved">break</span>;                <span class="ActionScriptReserved">default</span><span class="ActionScriptOperator">:</span>                    <span class="ActionScriptDefault_Text">vc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v2</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">v0</span>.<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">uvc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">u</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uv2</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">uv0</span>.<span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span>.5<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v0</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uv0</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uvc</span><span class="ActionScriptBracket/Brace">))</span>;                    <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vc</span>, <span class="ActionScriptDefault_Text">v1</span>, <span class="ActionScriptDefault_Text">v2</span>, <span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">uvc</span>, <span class="ActionScriptDefault_Text">uv1</span>, <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">))</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">findNeighbours</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_neighbour01</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptDefault_Text">_neighbour12</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptDefault_Text">_neighbour20</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skip</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">another</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skip</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptDefault_Text">skip</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">continue</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour12</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">another</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">))</span>                    <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">_neighbour20</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">another</span>;                        <span class="ActionScriptDefault_Text">_neighbour01</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">another</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">face</span>;                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptDefault_Text">_neighboursDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Updates the elements in the geometry object         *          * @see away3d.core.traverse.TickTraverser         * @see away3d.core.basr.Animation#update()         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateElements</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_dispatchedDimensionsChange</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">skinControllers</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">skinController</span>.<span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinVertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">skinVertices</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">skinVertex</span>.<span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">()</span>;                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">frames</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">))</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">update</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertexDirty</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">notifyDimensionsChange</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Updates the materials in the geometry object        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateMaterials</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object3D</span>, <span class="ActionScriptDefault_Text">view</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">View3D</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">materialData</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MaterialData</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">materialDictionary</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">materialData</span>.<span class="ActionScriptDefault_Text">material</span>.<span class="ActionScriptDefault_Text">updateMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span>, <span class="ActionScriptDefault_Text">view</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Duplicates the geometry properties to another geometry object.         *          * @return                The new geometry instance with duplicated properties applied.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Geometry</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptDefault_Text">clonedvertices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptDefault_Text">cloneduvs</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinVertices</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">clonedskinvertices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">clonedskincontrollers</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">skinVertices</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">skinControllers</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinVertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">skinVertices</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">skinVertices</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneSkinVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinVertex</span><span class="ActionScriptBracket/Brace">))</span>;                                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SkinController</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">clonedskincontrollers</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">skinControllers</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">skinController</span><span class="ActionScriptBracket/Brace">)</span>;               <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_faces</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cloneFace</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Face</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_v2</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">material</span>, <span class="ActionScriptDefault_Text">cloneUV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_uv0</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">cloneUV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_uv1</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">cloneUV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">face</span>.<span class="ActionScriptDefault_Text">_uv2</span><span class="ActionScriptBracket/Brace">))</span>;                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneFace</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">cloneElementDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cloneFace</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Segment</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">_segments</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cloneSegment</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Segment</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Segment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">_v0</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">cloneVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">_v1</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">segment</span>.<span class="ActionScriptDefault_Text">material</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">addSegment</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cloneSegment</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">cloneElementDictionary</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">segment</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cloneSegment</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">frames</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frame</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Frame</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cloneFrame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">frame</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">framenames</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptBracket/Brace">]</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">geometry</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**          * update vertex information.          *           * @param        v                        The vertex object to update          * @param        x                        The new x value for the vertex          * @param        y                        The new y value for the vertex          * @param        z                        The new z value for the vertex         * @param        refreshNormals    [optional]    Defines whether normals should be recalculated          *           */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span>, <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">refreshNormals</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">v</span>.<span class="ActionScriptDefault_Text">setValue</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">x</span>,<span class="ActionScriptDefault_Text">y</span>,<span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">refreshNormals</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_vertnormalsDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Apply the given rotation values to vertex coordinates.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">applyRotations</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotationX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">rotationY</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">rotationZ</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>                         <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rad</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">PI</span> <span class="ActionScriptOperator">/</span> 180;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rotx</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">rotationX</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rad</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">roty</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">rotationY</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rad</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">rotz</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">rotationZ</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rad</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sinx</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotx</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cosx</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotx</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">siny</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">roty</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cosy</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">roty</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sinz</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotz</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cosz</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rotz</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                                 <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">z</span>;                <span class="ActionScriptDefault_Text">y1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosx</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*-</span><span class="ActionScriptDefault_Text">sinx</span>;                <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">sinx</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosx</span>;                                <span class="ActionScriptDefault_Text">x1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosy</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">siny</span>;                <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*-</span><span class="ActionScriptDefault_Text">siny</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosy</span>;                            <span class="ActionScriptDefault_Text">x1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosz</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*-</span><span class="ActionScriptDefault_Text">sinz</span>;                <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">sinz</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">cosz</span>;                 <span class="ActionScriptDefault_Text">updateVertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertex</span>, <span class="ActionScriptDefault_Text">x</span>, <span class="ActionScriptDefault_Text">y</span>, <span class="ActionScriptDefault_Text">z</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Apply the given position values to vertex coordinates.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">applyPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dx</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">dy</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">dz</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">z</span>;                <span class="ActionScriptDefault_Text">vertex</span>.<span class="ActionScriptDefault_Text">setValue</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">dx</span>, <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">dy</span>, <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">dz</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Plays a sequence of frames         *          * @param    sequence    The animationsequence to play         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sequence</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AnimationSequence</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_animation</span><span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Animation</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;             <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">fps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">fps</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">smooth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">smooth</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">loop</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">&quot;&quot;</span><span class="ActionScriptBracket/Brace">){</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">smooth</span><span class="ActionScriptBracket/Brace">){</span>                    <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">interpolate</span><span class="ActionScriptBracket/Brace">()</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bvalidprefix</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">){</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">framename</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">){</span>                        <span class="ActionScriptDefault_Text">bvalidprefix</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptDefault_Text">_activePrefix</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_activePrefix</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">_activePrefix</span> ;                        <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationFrame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptString">&quot;&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">framename</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">))))</span>;                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bvalidprefix</span><span class="ActionScriptBracket/Brace">){</span>                    <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">sortOn</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;sort&quot;</span>, <span class="ActionScriptDefault_Text">Array</span>.<span class="ActionScriptDefault_Text">NUMERIC</span> <span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_frame</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">adjust</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;                    <span class="ActionScriptComment">//trace(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; [  start &quot;+activeprefix+&quot;  ]&quot;);</span>                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;--------- \n--&gt; unable to play animation: unvalid prefix [&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">prefix</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;]\n--------- &quot;</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;--------- \n--&gt; unable to play animation: prefix is null \n--------- &quot;</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Starts playing the animation at the specified frame.         *          * @param    value        A number representing the frame number.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">gotoAndPlay</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;                        <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_frame</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">adjust</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">isRunning</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Brings the animation to the specifed frame and stops it there.         *          * @param    value        A number representing the frame number.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">gotoAndStop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">frame</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;                        <span class="ActionScriptDefault_Text">frames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">_frame</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">adjust</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">isRunning</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Plays a sequence of frames        * Note that the framenames must be be already existing in the system before you can use this handler        * @param    prefixes      Array. The list of framenames to be played        * @param    fps            uint: frames per second        * @param    smooth        [optional] Boolean. if the animation must interpolate. Default = true.        * @param    loop            [optional] Boolean. if the animation must loop. Default = false.        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">playFrames</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">prefixes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>, <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>, <span class="ActionScriptDefault_Text">smooth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>, <span class="ActionScriptDefault_Text">loop</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Animation</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">fps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fps</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">smooth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">smooth</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">loop</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">smooth</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">createTransition</span><span class="ActionScriptBracket/Brace">()</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">prefixes</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationFrame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">framenames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">framename</span><span class="ActionScriptBracket/Brace">]))</span>;                             <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequence</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**         * Passes an array of animationsequence objects to be added to the animation.         *          * @param    playlist                An array of animationsequence objects.         * @param    loopLast    [optional]    Determines whether the last sequence will loop. Defaults to false.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setPlaySequences</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>, <span class="ActionScriptDefault_Text">loopLast</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_length</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">playlist</span>.<span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_length</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_animation</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_animation</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Animation</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;                         <span class="ActionScriptDefault_Text">_animationgroup</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationGroup</span><span class="ActionScriptBracket/Brace">()</span>;            <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">loopLast</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">loopLast</span>;            <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;                        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">_length</span>;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationSequence</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">prefix</span>, <span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">smooth</span>, <span class="ActionScriptReserved">true</span>, <span class="ActionScriptDefault_Text">playlist</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">)</span>;                         <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_UPDATE</span><span class="ActionScriptBracket/Brace">))</span>                <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_UPDATE</span>, <span class="ActionScriptDefault_Text">updatePlaySequence</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">sequenceEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">loop</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_animationgroup</span>.<span class="ActionScriptDefault_Text">playlist</span>.<span class="ActionScriptDefault_Text">shift</span><span class="ActionScriptBracket/Brace">())</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a sequenceDone event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnSequenceDone</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_DONE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a sequenceDone event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnSequenceDone</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">SEQUENCE_DONE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a cycle event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnCycle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">cycleEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">_cycle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationEvent</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptDefault_Text">_animation</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a cycle event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnCycle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">cycleEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;            <span class="ActionScriptDefault_Text">_animation</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">nimationEvent</span>.<span class="ActionScriptDefault_Text">CYCLE</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a dimensionsChanged event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnDimensionsChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">DIMENSIONS_CHANGED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a dimensionsChanged event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnDimensionsChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">DIMENSIONS_CHANGED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a materialUpdated event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnMaterialUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MaterialEvent</span>.<span class="ActionScriptDefault_Text">MATERIAL_UPDATED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a materialUpdated event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnMaterialUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MaterialEvent</span>.<span class="ActionScriptDefault_Text">MATERIAL_UPDATED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a mappingChanged event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnMappingChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ElementEvent</span>.<span class="ActionScriptDefault_Text">MAPPING_CHANGED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span>, 0, <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for removing a mappingChanged event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnMappingChange</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ElementEvent</span>.<span class="ActionScriptDefault_Text">MAPPING_CHANGED</span>, <span class="ActionScriptDefault_Text">listener</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
