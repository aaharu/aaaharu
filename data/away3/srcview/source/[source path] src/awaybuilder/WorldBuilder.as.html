<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>WorldBuilder.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">awaybuilder</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">containers</span>.<span class="ActionScriptDefault_Text">View3D</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">base</span>.<span class="ActionScriptDefault_Text">Object3D</span>;            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">abstracts</span>.<span class="ActionScriptDefault_Text">AbstractBuilder</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">abstracts</span>.<span class="ActionScriptDefault_Text">AbstractCameraController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">abstracts</span>.<span class="ActionScriptDefault_Text">AbstractGeometryController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">abstracts</span>.<span class="ActionScriptDefault_Text">AbstractParser</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">animation</span>.<span class="ActionScriptDefault_Text">AnimationController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">animation</span>.<span class="ActionScriptDefault_Text">AnimationEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">AnimationControl</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">CameraController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">CameraFocus</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">CameraZoom</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">collada</span>.<span class="ActionScriptDefault_Text">ColladaParser</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">CameraEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">GeometryEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">SceneEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">WorldBuilderEvent</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">GeometryController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">interfaces</span>.<span class="ActionScriptDefault_Text">IAssetContainer</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">interfaces</span>.<span class="ActionScriptDefault_Text">ICameraController</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">interfaces</span>.<span class="ActionScriptDefault_Text">ISceneContainer</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">parsers</span>.<span class="ActionScriptDefault_Text">Cinema4DParser</span>;    <span class="ActionScriptComment">//import awaybuilder.parsers.MaxParser;</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">parsers</span>.<span class="ActionScriptDefault_Text">SceneXMLParser</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">CoordinateCopy</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">vo</span>.<span class="ActionScriptDefault_Text">SceneCameraVO</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">vo</span>.<span class="ActionScriptDefault_Text">SceneGeometryVO</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">awaybuilder</span>.<span class="ActionScriptDefault_Text">vo</span>.<span class="ActionScriptDefault_Text">SceneSectionVO</span>;        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">BitmapData</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">DisplayObject</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">Sprite</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">Event</span>;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">WorldBuilder</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">Sprite</span> <span class="ActionScriptReserved">implements</span> <span class="ActionScriptDefault_Text">IAssetContainer</span> , <span class="ActionScriptDefault_Text">ISceneContainer</span> , <span class="ActionScriptDefault_Text">ICameraController</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">MAYA</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">uint</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">update</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">SceneUpdate</span>.<span class="ActionScriptDefault_Text">CONTINUOUS</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cameraZoom</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Number</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cameraFocus</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Number</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">animationControl</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">AnimationControl</span>.<span class="ActionScriptDefault_Text">INTERNAL</span> ;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pauseAfterParsing</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span> ;                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">builder</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AbstractBuilder</span> ;        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">animationController</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AnimationController</span> ;        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cameraController</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AbstractCameraController</span> ;        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geometryController</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AbstractGeometryController</span> ;        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_parser</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AbstractParser</span> ;        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_view</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">View3D</span> ;                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">WorldBuilder</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SceneBuilder</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">// Public Methods</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">build</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">createView</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">createParser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">parser</span>.<span class="ActionScriptDefault_Text">parse</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">continueBuild</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">setupBuilder</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addBitmapDataAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">BitmapData</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addBitmapDataAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addDisplayObjectAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">DisplayObject</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addDisplayObjectAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addColladaAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">XML</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addColladaAsset</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> , <span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getCameras</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getCameras</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getGeometry</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getGeometry</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSections</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getSections</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getCameraById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneCameraVO</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getCameraById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getGeometryById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneGeometryVO</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getGeometryById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSectionById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneSectionVO</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getSectionById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">navigateTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneCameraVO</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">navigateTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">teleportTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneCameraVO</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">teleportTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">animateObject</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object3D</span> , <span class="ActionScriptDefault_Text">destination</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object3D</span> , <span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Number</span> , <span class="ActionScriptDefault_Text">ease</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Function</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">animateObject</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object</span> , <span class="ActionScriptDefault_Text">destination</span> , <span class="ActionScriptDefault_Text">time</span> , <span class="ActionScriptDefault_Text">ease</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">moveObject</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object3D</span> , <span class="ActionScriptDefault_Text">destination</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object3D</span> , <span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Number</span> , <span class="ActionScriptDefault_Text">ease</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Function</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">moveObject</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object</span> , <span class="ActionScriptDefault_Text">destination</span>, <span class="ActionScriptDefault_Text">time</span> , <span class="ActionScriptDefault_Text">ease</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">// Protected Methods</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createView</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_view</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">View3D</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addChild</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_view</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createParser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">CINEMA4D</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_parser</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Cinema4DParser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/*                case SceneSource.MAX :                {                    this._parser = new MaxParser ( ) ;                    break ;                }                */</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">MAYA</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_parser</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ColladaParser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">NATIVE</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_parser</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SceneXMLParser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">parser</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onParsingComplete</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setupCamera</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">CINEMA4D</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptComment">//case SceneSource.MAX :</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">MAYA</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraFocus</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CameraFocus</span>.<span class="ActionScriptDefault_Text">MAYA</span> ;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraZoom</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraZoom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CameraZoom</span>.<span class="ActionScriptDefault_Text">MAYA_W720_H502</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">NATIVE</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraFocus</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CameraFocus</span>.<span class="ActionScriptDefault_Text">DEFAULT</span> ;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraZoom</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraZoom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CameraZoom</span>.<span class="ActionScriptDefault_Text">DEFAULT</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">zoom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraZoom</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">focus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraFocus</span> ;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vo</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneCameraVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getCameraById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptBracket/Brace">)</span> ;                                <span class="ActionScriptDefault_Text">CoordinateCopy</span>.<span class="ActionScriptDefault_Text">position</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span>.<span class="ActionScriptDefault_Text">camera</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">camera</span> <span class="ActionScriptBracket/Brace">)</span> ;                <span class="ActionScriptDefault_Text">CoordinateCopy</span>.<span class="ActionScriptDefault_Text">rotation</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">vo</span>.<span class="ActionScriptDefault_Text">camera</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">camera</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setupBuilder</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">builder</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneBuilder</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">SceneBuilder</span> ;                        <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">CINEMA4D</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">coordinateSystem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CoordinateSystem</span>.<span class="ActionScriptDefault_Text">CINEMA4D</span> ;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ScenePrecision</span>.<span class="ActionScriptDefault_Text">RAW</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/*                case SceneSource.MAX :                {                    builder.coordinateSystem = CoordinateSystem.MAX ;                    if ( ! this.precision ) this.precision = ScenePrecision.RAW ;                    break ;                }                */</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">MAYA</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">coordinateSystem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CoordinateSystem</span>.<span class="ActionScriptDefault_Text">MAYA</span> ;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ScenePrecision</span>.<span class="ActionScriptDefault_Text">PERFECT</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneSource</span>.<span class="ActionScriptDefault_Text">NATIVE</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">coordinateSystem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">CoordinateSystem</span>.<span class="ActionScriptDefault_Text">NATIVE</span> ;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ScenePrecision</span>.<span class="ActionScriptDefault_Text">RAW</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">precision</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">precision</span> ;            <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">SceneEvent</span>.<span class="ActionScriptDefault_Text">RENDER</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onBuildingComplete</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">COLLADA_COMPLETE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">build</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">parser</span>.<span class="ActionScriptDefault_Text">sections</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createAnimationController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">control</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationControl</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">AnimationEvent</span>.<span class="ActionScriptDefault_Text">COMPLETE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationControllerEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">AnimationEvent</span>.<span class="ActionScriptDefault_Text">START</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationControllerEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">AnimationEvent</span>.<span class="ActionScriptDefault_Text">UPDATE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationControllerEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createCameraController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">CameraController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">camera</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">update</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">update</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">animationControl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">animationControl</span> ;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneCameraVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getCameraById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptBracket/Brace">)</span> ;                                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">startCamera</span> ;                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">teleportTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">startCamera</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">SceneEvent</span>.<span class="ActionScriptDefault_Text">RENDER</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">CameraEvent</span>.<span class="ActionScriptDefault_Text">ANIMATION_START</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onCameraEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">CameraEvent</span>.<span class="ActionScriptDefault_Text">ANIMATION_COMPLETE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onCameraEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createGeometryController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">GeometryController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getGeometry</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">DOWN</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">MOVE</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">OUT</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">OVER</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">UP</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">enableInteraction</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setupSceneUpdate</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">update</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptComment">/* NOTE: Render events dispatched by the camera controller.                case SceneUpdate.ON_CAMERA_UPDATE :                */</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneUpdate</span>.<span class="ActionScriptDefault_Text">CONTINUOUS</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addEventListener</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">ENTER_FRAME</span> , <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Event</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">update</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptComment">/* NOTE: Render events handled externally.                case SceneUpdate.MANUAL :                */</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneUpdate</span>.<span class="ActionScriptDefault_Text">CONTINUOUS</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">SceneUpdate</span>.<span class="ActionScriptDefault_Text">ON_CAMERA_UPDATE</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">worldView</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SceneEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">SceneEvent</span>.<span class="ActionScriptDefault_Text">RENDER</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">// Event Handlers</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onParsingComplete</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Event</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WorldBuilderEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">WorldBuilderEvent</span>.<span class="ActionScriptDefault_Text">PARSER_COMPLETE</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">pauseAfterParsing</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">setupBuilder</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBuildingComplete</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Event</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">setupCamera</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">createAnimationController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">createCameraController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">createGeometryController</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">setupSceneUpdate</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onGeometryEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">GeometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SceneGeometryVO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">SceneGeometryVO</span> ;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geometryEvent</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">GeometryEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">GeometryEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptBracket/Brace">)</span> ;                        <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">UP</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">targetCamera</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cameraController</span>.<span class="ActionScriptDefault_Text">navigateTo</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">builder</span>.<span class="ActionScriptDefault_Text">getCameraById</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">geometry</span>.<span class="ActionScriptDefault_Text">targetCamera</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">GeometryEvent</span>.<span class="ActionScriptDefault_Text">COLLADA_COMPLETE</span> <span class="ActionScriptOperator">:</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">geometryController</span>.<span class="ActionScriptDefault_Text">enableGeometryInteraction</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">render</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> ;                    <span class="ActionScriptReserved">break</span> ;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">geometryEvent</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geometry</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">geometryEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onCameraEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">CameraEvent</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cameraEvent</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">CameraEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">CameraEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptBracket/Brace">)</span> ;                        <span class="ActionScriptDefault_Text">cameraEvent</span>.<span class="ActionScriptDefault_Text">targetCamera</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">targetCamera</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">cameraEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">animationControllerEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AnimationEvent</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">animationEvent</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AnimationEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AnimationEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptBracket/Brace">)</span> ;                        <span class="ActionScriptDefault_Text">animationEvent</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">data</span> ;            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">animationEvent</span> <span class="ActionScriptBracket/Brace">)</span> ;        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">// Getters and Setters</span>        <span class="ActionScriptComment">//</span>        <span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">worldView</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">View3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_view</span> ;        <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">parser</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">AbstractParser</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_parser</span> ;        <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
